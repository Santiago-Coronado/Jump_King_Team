<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knightsfall - Estadísticas del Jugador</title>
    <link rel="stylesheet" href="../css/styles_Knight_Fall.css" />
    <link rel="stylesheet" href="../css/Statistics.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="../js/Graphs.js"></script>
    <script src="../js/LeaderBoard.js"></script>

<body>
    <div id="headerContainer">
        <img src="../GDD_Images/LogoFinal_NoBG.png" alt="Knight's Fall Logo" id="logoHeader" />
        <div id="navButtons">
            <a href="../html/PantallaPrincipal.html" class="menu-button">Inicio</a>
            <a href="../html/Estadistics.html" class="menu-button">Clasificaciones</a>
            <a href="../html/DescyControl.html" class="menu-button">Controles y Descripción</a>
            <a href="../html/Creditos.html" class="menu-button">Créditos</a>
        </div>
      </div>
    <h1>ESTADÍSTICAS Y CLASIFICACIONES</h1>
    
    <div id="user-info" class="user-info">
        Cargando información de usuario...
    </div>
    
    <div id="content-area">
        <div class="loading">Cargando estadísticas...</div>
    </div>
    
    <div class="button-container">
        <a href="../html/index.html" class="button">Volver al Juego</a>
    </div>
    
    <!-- Plantilla para estadísticas -->
    <template id="stats-template">
        <div class="stats-container">
            <div class="stat-group">
                <h2>Estadísticas Generales</h2>
                <div class="stat-row">
                    <span class="stat-label">Tiempo Total Jugado:</span>
                    <span class="stat-value" id="tiempo-total">00h 00m 00s</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Partidas Jugadas:</span>
                    <span class="stat-value" id="partidas-jugadas">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Partidas Completadas:</span>
                    <span class="stat-value" id="partidas-completadas">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Muertes Totales:</span>
                    <span class="stat-value" id="muertes">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Enemigos Derrotados:</span>
                    <span class="stat-value" id="enemigos-derrotados">0</span>
                </div>
            </div>
            
            <div class="stat-group">
                <h2>Récord Personal</h2>
                <div class="record-highlight">
                    <div class="stat-row">
                        <span class="stat-label">Mejor Tiempo:</span>
                        <span class="stat-value" id="mejor-tiempo">N/A</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Mejor Puntuación:</span>
                        <span class="stat-value" id="mejor-puntuacion">0</span>
                    </div>
                </div>

            <div class="stat-group">
                <h2>Clasificaciones</h2>
                <div id="leaderboard-content" class="leaderboard">
                    <div class="loading">Cargando leaderboard...</div>
                </div>
                <div class="stat-group">
                    <h2>Tiempo vs Puntuación</h2>
                    <div class="graph-container" style="height: 300px; margin-top: 20px;">
                    </div>
                </div>
                </div>
            </div>
            <div class="stat-group">
                <h2>Usuarios conectados por día</h2>
                <div class="daily-logins-container" style="height: 300px; margin-top: 20px;">
                </div>
            </div>
            <div class="stat-group">
                <h2>Power-ups Desbloqueados</h2>
                <div class="powerups-chart-container" style="height: 300px; margin-top: 20px;">
                    <div class="loading">Cargando gráfico de power-ups...</div>
                </div>
            </div>
        </div>
    </template>
    
    <!-- Plantilla para usuarios no logueados -->
    <template id="login-template">
        <div class="login-prompt">
            <h2>¡Inicia sesión para ver tus estadísticas!</h2>
            <p>Necesitas iniciar sesión para poder ver y registrar tus estadísticas de juego.</p>
            <div class="button-container">
                <a href="../html/Login.html" class="button">Iniciar Sesión</a>
            </div>
        </div>
    </template>

</body>
</html>